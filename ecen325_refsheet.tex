% (c) Copyright 2017 Josh Wright
\documentclass[12pt]{article}
\usepackage{verbatim}
% \usepackage{syntonly}
\usepackage{ragged2e}
\usepackage{geometry}
\usepackage{enumitem} % for longenum
\usepackage{setspace}
\usepackage{hyperref}
\usepackage{circuitikz}
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{outlines} % for outline
\usepackage{paralist} % for compactitem (compact itemize)
\usepackage{multicol} % for multicolumn layout
\geometry{letterpaper, margin=0.4in, top=0.2in}
% \geometry{letterpaper, margin=0.5in, top=0.35in, left=1.5in}
\pagenumbering{gobble}
\begin{document}
\begin{spacing}{0.8}
%%%%%%%%%%%%%%%%%%
%% main section %%
%%%%%%%%%%%%%%%%%%
\begin{multicols*}{2}
\begin{flushleft}
\newlist{longenum}{itemize}{5}
\setlist[longenum,1]{nosep,leftmargin=0.2cm,labelwidth=0px,align=left,label=$\bullet$}
\setlist[longenum,2]{nosep,leftmargin=0.2cm,labelwidth=0px,align=left,label=$\ast$}
\setlist[longenum,3]{nosep,leftmargin=0.2cm,labelwidth=0px,align=left,label=\texttt{\%}}
\setlist[longenum,4]{nosep,leftmargin=0.2cm,labelwidth=0px,align=left,label=>}
\setlist[longenum,5]{nosep,leftmargin=0.2cm,labelwidth=0px,align=left,label=@}
% \begin{outline}[compactitem]
\begin{outline}[longenum]
%%%%%%%%%%%%%%%%%%%%
%% spacing config %%
%%%%%%%%%%%%%%%%%%%%
% just in case I need even more space
\newlength{\upspacelength}
\setlength{\upspacelength}{0px}
\newcommand{\upspace}{\vspace{\upspacelength}}
% section titles
\newcommand{\zzz}[1]{\upspace \0 \textbf{#1} }
% \newcommand{\zzz}[1]{\0 \hspace{-1.25in} \textbf{#1} \vspace{-10px} }
% makes second-level itemize bullets instead of dashes
% \renewcommand\labelitemii{\labelitemi}
% redefine the sub-headings to inject our space-saver
\let\oldOne\1\let\oldTwo\2\let\oldThree\3\let\oldFour\4
\renewcommand{\1}{\oldOne   \hspace{-8px}}
\renewcommand{\2}{\oldTwo   \hspace{-8px}}
\renewcommand{\3}{\oldThree \hspace{-8px}}
\renewcommand{\4}{\oldFour  \hspace{-8px}}
\small

\noindent ECEN325 Ref Sheet \hfill \textcopyright \space Josh Wright \today

\zzz{Metric Prefixes} \\
\begin{tabular}{|c c l l|}                                   \hline
peta  & P     & $10^{ 15}$ & \hfill 1 000 000 000 000 000 \\ \hline
tera  & T     & $10^{ 12}$ & \hfill     1 000 000 000 000 \\ \hline
giga  & G     & $10^{  9}$ & \hfill         1 000 000 000 \\ \hline
mega  & M     & $10^{  6}$ & \hfill             1 000 000 \\ \hline
kilo  & k     & $10^{  3}$ & \hfill                 1 000 \\ \hline
hecto & h     & $10^{  2}$ & \hfill                   100 \\ \hline
deca  & da    & $10^{  1}$ & \hfill                    10 \\ \hline
one   &       & $10^{ 0 }$ & \hfill       1 \hfill \hfill \\ \hline
deci  & d     & $10^{- 1}$ & 0.1                          \\ \hline
centi & c     & $10^{- 2}$ & 0.01                         \\ \hline
milli & m     & $10^{- 3}$ & 0.001                        \\ \hline
micro & $\mu$ & $10^{- 6}$ & 0.000 001                    \\ \hline
nano  & n     & $10^{- 9}$ & 0.000 000 001                \\ \hline
pico  & p     & $10^{-12}$ & 0.000 000 000 001            \\ \hline
femto & f     & $10^{-15}$ & 0.000 000 000 000 001        \\ \hline
\end{tabular}

\zzz{Ohm's Law}
  $V = IR$,
  \quad $I = \frac{V}{R}$,
  \quad $R = \frac{V}{I}$


\zzz{Complex Numbers}
  \1 $z = x+iy = re^{i\theta} = r[\cos(\theta)+i\sin(\theta)]$
  \1 $[r(\cos(\theta)+i\sin(\theta))]^n = r^n[\cos(n\theta)+i\sin(n\theta)]$
  \1 $z^n = (re^{i\theta}) = r^ne^{in\theta}$
  \1 $\frac{1}{i}=-i$
  \1 $\sqrt[n]{z} = \sqrt[n]{r}e^{\frac{\theta}{n}+\frac{2k\pi}{n}}$ for $n\in N^*$ (ints $\geq0$)
  \1 $e^{j\theta} = \cos(\theta) + j\sin(\theta)$
  \1 $e^{-j\theta} = \cos(\theta) - j\sin(\theta)$
  \1 $\cos(\theta) = \frac{1}{2}(e^{j\theta} + e^{-j\theta})$
  \1 $\sin(\theta) = \frac{1}{2j}(e^{j\theta} - e^{-j\theta})$
  \1 normalized: $sinc(t) = \frac{\sin(\pi t)}{\pi t}$
  \1 $|\frac{a}{b}| = \frac{|a|}{|b|}$
  \1 $\angle\frac{a}{b} = \angle{a} - \angle{b}$

\zzz{Trig}
  \1 $\cos^2(a)+\sin^2(a)=1$
  \1 $\cos(2a)=\cos^2(a) - \sin^2(a) = 2\cos^2(a)-1 = 1-2\sin^2(a)$
  \1 $\sin(2a) = 2\sin(a)\cos(a)$
  \1 $\cos^2(a) = \frac{1}{2}(1 + \cos(2a))$
  \1 $\sin^2(a) = \frac{1}{2}(1 - \cos(2a))$


\zzz{RC Filter}
  \1 Transmission Function: $T(s) = \frac{V_o(s)}{V_i(s)}$
  \1 Corner frequency: frequency $s$ at which $T(s)=\frac{1}{\sqrt{2}}$
  \1 for simple circuit:
    ground$\rightarrow$source$\rightarrow R \rightarrow C\rightarrow$ground
    \2 $T(s)=\frac{1}{1+RCs}$
    \\ $|T(j\omega)|=\frac{1}{\sqrt{1+R^2C^2s^2}}$
    \\ $|\angle T(j\omega)|=\frac{1}{\sqrt{1+R^2C^2s^2}}$
  \1 low pass
    \2\begin{circuitikz}
      \draw
      (0,3) to [short, o-,l=$V_i$] (0,3)
      (0,3) to [R, -*, l=$R$] (3,3)
      (3,3) to [C, -, l=$C$] (3,2)
      (3,2) to node[ground]{} (3,2)
      (3,3) to [short, -o,l=$V_o$] (4,3);
      \end{circuitikz}
    \2 $T(s)=\frac{V_o}{V_i}=\frac{1}{1 + RCs}$
    \2 corner frequency: $s=\frac{1}{RC}$ (also pole)
    \2 pole: $\frac{1}{RC}$
  \1 high pass
    \2\begin{circuitikz}
      \draw
      (0,3) to [short, o-,l=$V_i$] (0,3)
      (0,3) to [C, -*, l=$C$] (3,3)
      (3,3) to [R, -, l=$R$] (3,1)
      (3,1) to node[ground]{} (3,1.5)
      (3,3) to [short, -o,l=$V_o$] (4,3);
      \end{circuitikz}
    \2 $T(s)=\frac{V_o}{V_i}=\frac{RCs}{1+RCs}$
    \2 zero: $s=0$, pole: $s=\frac{1}{RC}$

\zzz{Bode Plots}
  \1 magnitude is plotted in $dB$: $|T(j\omega)|_{dB}=20\log_{10}|T(j\omega)|$
  \1 starts on y-axis at DC offset with slope 0
  \1 just add together the bode plots of each individual pole, zero, and the DC offset
  \1 poles always slope down, zeros slope up
    \\ (applies for both magnitude and phase)
  \1 $dec$=decade, e.g. from $10^0$ to $10^1$
  \1 magnitude:
    \2 Pole/Zero at origin:
      \\ constant slope $\pm20db/dec$ for all $\omega$; $0dB$ at $\omega=10^0=1$
    \2 Pole/Zero at $\omega_0$:
      \\ 0 for $\omega<\omega_0$
      \\ slope $\pm20\frac{db}{dec}$ after
    \2 Constant $C$: constant line at $20\log_{10}(|C|)$
  \1 phase:
    \2 Pole at origin: constant $-\frac{\pi}{2}$ or $-90^\circ$
    \2 Zero at origin: constant $+\frac{\pi}{2}$ or $+90^\circ$
    \2 Pole/Zero at $\omega_0$:
      \\ $0$ for $\omega<\frac{\omega_0}{10}$
      \\ slope linearly ($\pm45^\circ/dec$) until $10\omega_0$
      \\ $0$ slope for $\omega>10\omega_0$
    \2 Constant $C$: no effect ($0$ for all $\omega$)
  \1 Prof wants us to actually show the -3dB drop curve, not just a straight intersection

\zzz{Solving systems with Op Amps}
	\1 step 0: if the op amp is ideal, write out ideal properties:
		\2 $V_+=V_-$
		\2 $I_-=0,I_+=0$
    \2 $A \approx \infty$
	\1 avoid doing KCL/KVL directly on the output node of the op amp
	\1 ignore resistors from a point at $0V$ to ground

\zzz{Non-Ideal Op Amps}
  \1 still assume that current at input terminals is 0
  \1 $V_o = A (V_{+} - V_{-})$
    \2 $A$: open-loop gain. Typically very large, 100,000 or more
  \1 open-loop gain dependent on frequency: $A(s)=\frac{A_0}{1-\frac{s}{\omega_b}}$
    \2 open-loop response drops off after $\omega_b$
      \\(usually $2\pi \leq \omega_b \leq 2\pi100$)
    \2 $A_0$: DC gain
    \2 $\omega_t$: unity gain frequency: $dB(T(\omega_t))=1$
      \\ $\omega_t \approx A_o \omega_b$
      \\ AKA gain bandwidth product
    \2 in this case, we still assume $I_-=I_+=0$ and $V_-=V_+$?
  \1 slew rate
    \2 max rate at which the output can change
    \2 for a sinusoidal signal: ($V_{pk}$: peak voltage)
      \\ $SR > 2 \pi f V_{pk}$ or $SR > \omega V_{pk}$
      \\ $\frac{dV_o}{dt}|_{MAX} < SR$



\zzz{Op Amp Equations}
  % http://pdp7.org/synthwiki/OpAmpCircuits.html
  \1 general form: $T(s)=\frac{K_0}{1+\frac{s}{\omega_0}}$
    \2 $T(0)=K_0$: DC offset. For these simple ones, it's equal to ideal response
    \2 $\omega_0=\frac{\omega_t}{1+R_2/R_1}$
  \1 inverting op amp:
    \2 ideal: $T(s)=\frac{V_o}{V_i}=-\frac{R_2}{R_1}$
    \2 non-ideal: $T(s)=\frac{V_o}{V_i}
      =\frac{-R_2/R_1}{1+\frac{1+R_2/R_1}{A(s)}}
      =\frac{-R_2/R_1}{1+\frac{s}{\left(\frac{\omega_t}{1+R_2/R_1}\right)}}
      =\frac{-R_2/R_1}{1+\frac{s}{\omega_0}}$
    \\\begin{circuitikz}
      \draw
      (5,2) node[op amp] (opamp) {}
      (1,2.5) to [short, o-, l=$V_i$] (1,2.5)
      (1,2.5) to [R, l=$R_1$] (opamp.-)
      (3.8,3.5) to [R, l=$R_2$] (6.2,3.5)
      (opamp.+) to (3.8,1.2) node[ground]{}
      (3.8,3.5) to [short, -*] (opamp.-)
      (6.2,3.5) to [short, -*] (opamp.out)
      (opamp.out) to [short, -o, l=$V_o$] (7, 2);
      \end{circuitikz}
  \1 non-inverting op-amp:
    \2 ideal: $T(s)=\frac{V_o}{V_i}=1+\frac{R_2}{R_1}$
    \2 non-ideal: $T(s)=\frac{V_o}{V_i}
      =\frac{1+R_2/R_1}{1+\frac{1+R_2/R_1}{A(s)}}
      =\frac{1+R_2/R_1}{1+\frac{s}{\left(\frac{\omega_t}{1+R_2/R_1}\right)}}
      =\frac{1+R_2/R_1}{1+\frac{s}{\omega_0}}$
    \\\begin{circuitikz}
      \draw
      (5,2) node[op amp] (opamp) {}
      (1,2.5) to [short, -] (1,2) node[ground]{}
      (1,2.5) to [R, l=$R_1$] (opamp.-)
      (3.8,3.5) to [R, l=$R_2$] (6.2,3.5)
      (opamp.+) to (3.5,1.5)
      (3.5,1.5) to [short, o-, l=$V_i$] (3.5,1.5)
      (3.8,3.5) to [short, -*] (opamp.-)
      (6.2,3.5) to [short, -*] (opamp.out)
      (opamp.out) to [short, -o, l=$V_o$] (7, 2);
      \end{circuitikz}
  \1 integrating
    \2 ideal: $V_o = -\int_{0}^{t} \frac{V_i}{RC} dt + C$
      \3 $C=$ $V_o(t)$ at $t=0$
    \\\begin{circuitikz}
      \draw
      (5,2) node[op amp] (opamp) {}
      (0,2.5) to [C, l=$C$] (opamp.-)
      (0,2.5) to [short, o-] (0,2.5)
      (3.8,1.25) node[ground]{} to [short, -] (opamp.+)
      (3.8,3.5) to [R, l=$R$] (6.2,3.5)
      (3.8,3.5) to [short, -*] (opamp.-)
      (6.2,3.5) to [short, -*] (opamp.out)
      (0,2.5) to [short, o-, l=$V_i$] (0,2.5)
      (opamp.out) to [short, -o, l=$V_o$] (7,2);
      \end{circuitikz}
  \1 differentiating
    \2 ideal: $V_o = -RC \frac{dV_i}{dt}$
    \\\begin{circuitikz}
      \draw
      (5,2) node[op amp] (opamp) {}
      (0,2.5) to [R, l=$R$] (opamp.-)
      (0,2.5) to [short, o-] (0,2.5)
      (3.8,1.25) node[ground]{} to [short, -] (opamp.+)
      (3.8,3.5) to [C, l=$C$] (6.2,3.5)
      (3.8,3.5) to [short, -*] (opamp.-)
      (6.2,3.5) to [short, -*] (opamp.out)
      (0,2.5) to [short, o-, l=$V_i$] (0,2.5)
      (opamp.out) to [short, -o, l=$V_o$] (7,2);
      \end{circuitikz}
  \1 summing
    \2 ideal: $V_o = -R_f\left(\frac{V_1}{R_1} + \frac{V_2}{R_2}\right)$
    \\\begin{circuitikz}
      \draw
      (5,2) node[op amp] (opamp) {}
      (1,3.5) to [R,l=$R_{1}$] (3, 3.5)
      (0,2.5) to [R,l_=$R_{2}$] (opamp.-)
      (3,3.5) to [short,-*] (3,2.5)
      (0,2.5) to [short, o-,l=$V_2$] (1,2.5)
      (0,3.5) to [short, o-,l=$V_1$] (1,3.5)
      (3.8,3.5) to [R, l=$R_{f}$] (6.2,3.5)
      (3.8,3.5) to [short, -*] (opamp.-)
      (6.2,3.5) to [short, -*] (opamp.out)
      (opamp.out) to [short, -o, l=$V_o$] (7,2)
      (3.8,1.25) node[ground]{} to [short, -] (opamp.+);
      \end{circuitikz}
  \1 differential (subtracting)
    \2 ideal: $V_o = \frac{(R_f + R_1) R_g}{(R_g + R_2) R_1} V_2 - \frac{R_f}{R_1} V_1$
    \\\begin{circuitikz}
      \draw
      (4,4) node[op amp] (opamp) {}
      (0,3.5) to [short, o-,l=$V_2$] (1,3.5)
      (0,4.5) to [short, o-,l=$V_1$] (1,4.5)
      (1,4.5) to [R, l=$R_1$] (2.5,4.5)
      (2.5,4.5) to [short,-*] (2.8,4.5)
      (2.8,3.5) to [R, l=$R_g$] (2.8,2) node[ground]{}
      (2.8,3.5) to [short,*-*] (2.8,3.5)
      (1,3.5) to [R,l_=$R_2$] (2.5,3.5)
      (2.5,3.5) -- (opamp.+) (3.2,5.5) to [R, l=$R_f$] (5.2,5.5)
      (5.2,5.5) to [short,-*] (opamp.out) (4.8,4) to [short,-o] (6,4)
      (opamp.out) to [short,-o, l=$V_o$] (6,4)
      (opamp.-) -- (2.8,5.5)
      (2.8,5.5) -- (2.8,5.5) -- (3.2,5.5);
      \end{circuitikz}






\end{outline}
\end{flushleft}
\end{multicols*}
\end{spacing}
\end{document}
